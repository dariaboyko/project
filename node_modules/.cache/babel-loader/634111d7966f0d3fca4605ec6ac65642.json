{"ast":null,"code":"var _jsxFileName = \"/Users/karen3/Documents/GitHub/project/src/components/AdminOrdersTable.js\",\n    _s = $RefreshSig$();\n\nimport { Link, useLocation } from \"react-router-dom\";\nimport AdminOrderInfo from \"./AdminOrderInfo\";\nimport actionPromise from \"./ActionPromise\";\nimport store from \"./Store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AdminOrdersTable(_ref) {\n  _s();\n\n  let {\n    orders\n  } = _ref;\n  const location = useLocation();\n\n  let gql = (url, query, variables) => fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \" + localStorage.authToken,\n      Accept: \"application/json\"\n    },\n    body: JSON.stringify({\n      query,\n      variables\n    })\n  }).then(res => res.json());\n\n  return orders ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"order id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"owner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"goods amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"order total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this), orders.data.OrderFind.map(order => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: order._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 31,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: order.owner ? order.owner.login : \"----\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 32,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: order.orderGoods.length > 0 ? /*#__PURE__*/_jsxDEV(Link, {\n                to: location.pathname + \"/\" + order._id,\n                children: order.orderGoods.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 21\n              }, this) : order.orderGoods.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: order.total\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  store.dispatch(actionPromise(\"orders\", gql(\"http://shop-roles.node.ed.asmer.org.ua/graphql\", `mutation delete($order: OrderInput) {\n                              OrderDelete(order: $order) {\n                                _id\n                              }\n                            }`, {\n                    order: {\n                      _id: order._id\n                    }\n                  })));\n                },\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this)]\n          }, \"order\" + order._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AdminOrderInfo, {\n      orders: orders\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: \"Wait...\"\n  }, void 0, false);\n}\n\n_s(AdminOrdersTable, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n\n_c = AdminOrdersTable;\nexport default AdminOrdersTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminOrdersTable\");","map":{"version":3,"names":["Link","useLocation","AdminOrderInfo","actionPromise","store","AdminOrdersTable","orders","location","gql","url","query","variables","fetch","method","headers","Authorization","localStorage","authToken","Accept","body","JSON","stringify","then","res","json","data","OrderFind","map","order","_id","owner","login","orderGoods","length","pathname","total","dispatch"],"sources":["/Users/karen3/Documents/GitHub/project/src/components/AdminOrdersTable.js"],"sourcesContent":["import { Link, useLocation } from \"react-router-dom\";\nimport AdminOrderInfo from \"./AdminOrderInfo\";\nimport actionPromise from \"./ActionPromise\";\nimport store from \"./Store\";\nfunction AdminOrdersTable({ orders }) {\n  const location = useLocation()\n  let gql = (url, query, variables) =>\n    fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + localStorage.authToken,\n        Accept: \"application/json\",\n      },\n      body: JSON.stringify({ query, variables }),\n    }).then((res) => res.json());\n  return orders ? (\n    <>\n      <table>\n        <tbody>\n          <tr>\n            <th>order id</th>\n            <th>owner</th>\n            <th>goods amount</th>\n            <th>order total</th>\n            <th>delete</th>\n          </tr>\n          {orders.data.OrderFind.map((order) => {\n            return (\n              <tr key={\"order\" + order._id}>\n                <td>{order._id}</td>\n                <td>{order.owner ? order.owner.login : \"----\"}</td>\n                <td>\n                  {order.orderGoods.length > 0 ? (\n                    <Link to={location.pathname + \"/\" + order._id}>\n                      {order.orderGoods.length}\n                    </Link>\n                  ) : (\n                    order.orderGoods.length\n                  )}\n                </td>\n                <td>{order.total}</td>\n                <td>\n                  <button\n                    onClick={() => {\n                      store.dispatch(\n                        actionPromise(\n                          \"orders\",\n                          gql(\n                            \"http://shop-roles.node.ed.asmer.org.ua/graphql\",\n                            `mutation delete($order: OrderInput) {\n                              OrderDelete(order: $order) {\n                                _id\n                              }\n                            }`,\n                            {\n                              order: {\n                                _id: order._id,\n                              },\n                            }\n                          )\n                        )\n                      );\n                      \n                    }}\n                  >\n                    X\n                  </button>\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n      <AdminOrderInfo orders={orders} />\n    </>\n  ) : (\n    <>Wait...</>\n  );\n}\nexport default AdminOrdersTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}